# Документация разработчика

## Текст программы

### Наименование программы

**PKG_6** — приложение для работы с аффинными преобразованиями в 3D-графике на языке C# с использованием Windows Forms.

### Область применения

Программа предназначена для изучения, реализации и визуализации аффинных преобразований в трёхмерном пространстве. Она может быть использована в образовательных целях, для демонстрации работы с матрицами преобразований, а также как основа для разработки более сложных графических приложений.

### Назначение программы

- Выполнение следующих аффинных преобразований:
  - Вращение вокруг осей \(O_x\), \(O_y\), \(O_z\) в локальной и глобальной системах координат.
  - Перенос объекта по осям \(O_x\), \(O_y\), \(O_z\).
  - Масштабирование объекта.
- Визуализация трёхмерного объекта и его преобразований на экране.
- Управление проекциями (фронтальная, профильная, горизонтальная).
- Отображение глобальной системы координат.
- Изменение расстояния между наблюдателем и объектом.
- Сброс преобразований и положения объекта.

---

## Описание программы

### Структура программы

Программа состоит из следующих модулей:

1. **Form1.cs**:
   - Основной файл, отвечающий за графический интерфейс и обработку событий.
   - Реализует взаимодействие с пользователем через элементы управления (слайдеры, кнопки, числовые поля).
   - Отвечает за отрисовку объекта и выполнение преобразований.

2. **Coordinates.cs**:
   - Класс для представления координат точки в 3D-пространстве.
   - Поддерживает преобразования координат с использованием матриц.

3. **Graphics3D.cs**:
   - Класс для создания матриц аффинных преобразований (вращение, перенос, масштабирование).

4. **Matrix.cs**:
   - Класс для работы с матрицами (умножение, сложение, транспонирование).

5. **Program.cs**:
   - Точка входа в приложение, запускает форму `Form1`.

---

### Основные классы и их методы

#### **Form1.cs**

Класс `Form1` отвечает за графический интерфейс и логику программы.

- **Основные методы:**
  - `InitializeLetter()` — инициализация объекта (буквы) в виде набора рёбер.
  - `InitializeAxis()` — создание осей координат.
  - `plot(Graphics gr)` — отрисовка осей координат и сетки.
  - `affineTranslate()` — реализация переноса объекта.
  - `affineRotation()` — вращение объекта в локальной системе координат.
  - `scaling()` — масштабирование объекта или изменение расстояния наблюдателя.
  - `picturePlaneRotation()` — вращение наблюдателя в глобальной системе координат.
  - `To2D(Coordinates c)` — преобразование 3D-координат в 2D для отображения на экране.
  - `printAffineMatrix()` — вывод текущей матрицы преобразований в текстовые поля.

- **Обработчики событий:**
  - `tbObjectAngles_ValueChanged` — обработка изменения углов вращения объекта.
  - `tbGlobalAngles_ValueChanged` — обработка изменения углов вращения наблюдателя.
  - `bTranslate_Click` — обработка переноса объекта.
  - `bScale_Click` — обработка масштабирования объекта.
  - `bDist_Click` — обработка изменения расстояния до объекта.
  - `bResetAffine_Click` — сброс всех аффинных преобразований.
  - `bResetPicture_Click` — сброс положения наблюдателя.
  - `rbProfile_CheckedChanged` — обработка переключения проекций.

#### **Coordinates.cs**

Класс `Coordinates` представляет точку в 3D-пространстве.

- **Основные поля:**
  - `x, y, z` — координаты точки.
  - `coord` — матрица \(1 \times 4\), содержащая \(x, y, z\) и \(w = 1\) для аффинных преобразований.

- **Основные методы:**
  - `AffineTransform(Matrix mat)` — применение аффинного преобразования к точке.

#### **Graphics3D.cs**

Класс `Graphics3D` содержит методы для построения матриц преобразований.

- **Основные методы:**
  - `rotateOx(double teta)` — матрица вращения вокруг оси \(O_x\).
  - `rotateOy(double teta)` — матрица вращения вокруг оси \(O_y\).
  - `rotateOz(double teta)` — матрица вращения вокруг оси \(O_z\).
  - `Translate(double x, double y, double z)` — матрица переноса.
  - `Scaling(double value)` — матрица масштабирования.

#### **Matrix.cs**

Класс `Matrix` реализует матрицы и базовые операции над ними.

- **Основные методы:**
  - Конструктор для создания матрицы заданного размера.
  - Операторы:
    - `*` — умножение матриц.
    - `+` — сложение матриц.
  - `T(Matrix a)` — транспонирование матрицы.

---

## Взаимодействие с пользователем

### Функциональные возможности

1. **Ввод данных**:
   - Пользователь может задать параметры через числовые поля и слайдеры.
   - Поля ввода:
     - Координаты для переноса.
     - Углы вращения.
     - Коэффициент масштабирования.
     - Расстояние до объекта.

2. **Управление проекциями**:
   - Переключение между фронтальной, горизонтальной и профильной проекцией через радиокнопки.

3. **Визуализация**:
   - Объект отображается в окне `PictureBox` с учётом текущих преобразований.
   - Глобальные оси координат могут быть включены или отключены.

4. **Сброс настроек**:
   - Кнопки для сброса преобразований (`bResetAffine`) и положения наблюдателя (`bResetPicture`).

5. **Масштабирование**:
   - Масштабирование объекта с помощью числового поля.

---

## Инструкция по установке и запуску

### Требования

- **Операционная система**: Windows.
- **Среда разработки**: Visual Studio.
- **Платформа**: .NET Framework 4.7.2 или выше.

### Установка

1. Скачайте или клонируйте репозиторий проекта.
2. Откройте файл решения `PKG_6.sln` в Visual Studio.
3. Постройте проект, нажав `Ctrl+Shift+B`.

### Запуск

1. Запустите проект, нажав `F5` в Visual Studio.
2. Программа откроется в новом окне.

---

## Инструкция пользователя

1. **Выберите преобразование**:
   - Для вращения: используйте слайдеры или текстовые поля для задания углов.
   - Для переноса: введите значения смещения по координатам.
   - Для масштабирования: задайте коэффициент масштабирования.

2. **Нажмите соответствующую кнопку**:
   - "Применить перенос", "Применить масштабирование" и т.д.

3. **Используйте радиокнопки** для переключения проекций.

4. **Для сброса настроек**:
   - Нажмите "Сбросить преобразования" или "Сбросить положение наблюдателя".

---

## Требования к техническим характеристикам

- **Процессор**: с тактовой частотой не менее 1 ГГц.
- **Оперативная память**: не менее 512 МБ.
- **Дисплей**: с разрешением не менее 1024x768 пикселей.

---

## Обработка ошибок

- Программа проверяет корректность ввода данных:
  - Если введённые значения некорректны, отображается сообщение об ошибке.
- Исключения, возникающие в процессе выполнения, выводятся в консоль Visual Studio.

---

## Заключение

Программа **PKG_6** предоставляет удобный инструмент для изучения аффинных преобразований в 3D-пространстве. Её структура и документация позволяют легко добавлять новые функции и расширять функциональность.
